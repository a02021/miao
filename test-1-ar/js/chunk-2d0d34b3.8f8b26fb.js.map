{"version":3,"sources":["webpack:///./src/views/Servers.vue?6b28","webpack:///src/views/Servers.vue","webpack:///./src/views/Servers.vue?e749","webpack:///./src/views/Servers.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","on","$event","dialogFormVisible","attrs","newServer","model","value","callback","$$v","$set","expression","staticClass","slot","servers","split","idx","addServer","_l","server","key","_s","name","host","port","domProps","secret","removeServer","editServer","staticRenderFns","data","JSON","parse","localStorage","getItem","editIndex","watch","setItem","stringify","$emit","methods","targetServer","Object","assign","push","splice","Vue","set","component"],"mappings":"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","file":"js/chunk-2d0d34b3.8f8b26fb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"管理服务器\")]),_c('button',{on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"add\")]),_c('el-dialog',{attrs:{\"title\":\"添加服务器\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.newServer}},[_c('el-form-item',{attrs:{\"label\":\"Host\",\"label-width\":\"120px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.newServer.host),callback:function ($$v) {_vm.$set(_vm.newServer, \"host\", $$v)},expression:\"newServer.host\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Port\",\"label-width\":\"120px\"}},[_c('el-input-number',{attrs:{\"min\":0,\"max\":65535},model:{value:(_vm.newServer.port),callback:function ($$v) {_vm.$set(_vm.newServer, \"port\", $$v)},expression:\"newServer.port\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Secret\",\"label-width\":\"120px\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.newServer.secret),callback:function ($$v) {_vm.$set(_vm.newServer, \"secret\", $$v)},expression:\"newServer.secret\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.servers.split(_vm.idx, 1)}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible = false; _vm.addServer();}}},[_vm._v(\"确 定\")])],1)],1),_c('ul',_vm._l((_vm.servers),function(server,idx){return _c('li',{key:idx},[_vm._v(\" name: \"+_vm._s(_vm.name)+\" Host: \"+_vm._s(server.host)+\" Port: \"+_vm._s(server.port)+\" Secret: \"),_c('input',{attrs:{\"type\":\"password\"},domProps:{\"value\":server.secret}}),_c('button',{on:{\"click\":function($event){return _vm.removeServer(idx)}}},[_vm._v(\"删除\")]),_c('button',{on:{\"click\":function($event){return _vm.editServer(idx)}}},[_vm._v(\"编辑\")])])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h2>管理服务器</h2>\r\n\r\n    <button @click=\"dialogFormVisible = true\">add</button>\r\n\r\n    <el-dialog title=\"添加服务器\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form :model=\"newServer\">\r\n        \r\n        <el-form-item label=\"Host\" label-width=\"120px\">\r\n          <el-input v-model=\"newServer.host\"   autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"Port\" label-width=\"120px\">\r\n          <el-input-number v-model=\"newServer.port\" :min=\"0\" :max=\"65535\" >\r\n          </el-input-number>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"Secret\" label-width=\"120px\">\r\n          <el-input  type=\"password\" v-model=\"newServer.secret\"  >\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"servers.split(idx, 1)\">取 消</el-button>\r\n        <el-button  type=\"primary\" @click=\"dialogFormVisible = false; addServer();\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <ul>\r\n      <li v-for=\"(server, idx) of servers\" :key=\"idx\">\r\n        name: {{ name }}\r\n        Host: {{ server.host }} Port: {{ server.port }} Secret:\r\n        <input type=\"password\" :value=\"server.secret\" />\r\n        <button @click=\"removeServer(idx)\">删除</button>\r\n        <button @click=\"editServer(idx)\">编辑</button>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    //  localStorage.getItem返回 null / 字段\r\n    var servers = JSON.parse(localStorage.getItem(\"aria2Servers\")) || []\r\n    return {\r\n      name: '',\r\n      dialogFormVisible: false,\r\n      servers: servers,\r\n      editIndex: -1, // 当前正在编辑的下标, -1表示添加\r\n      newServer: {\r\n        port: 6800,\r\n        host: \"127.0.0.1\",\r\n        secret: \"\",\r\n      },\r\n    }\r\n  },\r\n  watch: {\r\n    servers(servers) {\r\n      localStorage.setItem(\"aria2Servers\", JSON.stringify(servers))\r\n      this.$emit('servers-changed',this.servers) // App监听\r\n    },\r\n  },\r\n  methods: {\r\n    // 编辑功能 : 未完善\r\n    editServer(idx) {\r\n      if (this.editIndex == -1) {\r\n        var targetServer = this.servers[idx]\r\n        Object.assign(this.newServer, targetServer)\r\n        this.editIndex = -1\r\n        this.dialogFormVisible = true //显示\r\n      } else {\r\n        this.servers[this.editIndex] = this.newServer\r\n        this.newServer = {\r\n          port: 6800,\r\n          host: \"127.0.0.1\",\r\n          secret: \"\",\r\n        }\r\n      }\r\n    },\r\n    async removeServer(idx) {\r\n      try {\r\n        await this.$confirm(\"删除??\")\r\n        this.servers.splice(idx, 1)\r\n      } catch (e) {}\r\n    },\r\n\r\n    // 弹窗\r\n    addServer() {\r\n      if (this.editIndex == -1) {\r\n        this.servers.push(this.newServer)\r\n        this.newServer = {\r\n          port: 6800,\r\n          host: \"127.0.0.1\",\r\n          secret: \"\",\r\n        }\r\n      } else {  // 修改现存服务器\r\n        this.servers[this.editIndex] = this.newServer\r\n        this.servers.splice(this.editIndex, 1, [this.newServer])\r\n        Vue.set(this.servers, this.editIndex, this.newServer)\r\n\r\n        this.newServer = {\r\n          port: 6800,\r\n          host: \"127.0.0.1\",\r\n          secret: \"\",\r\n        }\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Servers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Servers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Servers.vue?vue&type=template&id=bde6640a&\"\nimport script from \"./Servers.vue?vue&type=script&lang=js&\"\nexport * from \"./Servers.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}